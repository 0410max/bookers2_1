<div class='container'>
    <div class='col-md-10'>
        <div class='row'>
            <div class='new__top'>
                <%= flash[:notice] %>
                <h2>Books</h2>
                <table>
                    <tr>
                        <th>
                            Title
                        </th>
                        <th>
                            Body
                        </th>
                        <th>
                        <th colspan='3'>
                        </th>
                    </tr>

                    <% @books.each do |book| %>
                        <tr>
                            <td>
                                <%= book.title %>
                            </td>
                            <td>
                                <%= book.body %>
                            </td>
                            <td>
                                <%= link_to 'Show',book_path(book) %> <%= link_to 'Edit',edit_book_path(book) %> <%= link_to 'Destroy',book_path(book),method: :delete, "data-confirm" => "本当に削除しますか？" %>
                            </td>
                        </tr>
                    <% end %>
                </table>
            </div>

            <% if @book.errors.any? %>
                <%= @book.errors.count %>件のerrorが発生しました
                <ul>
                    <% @book.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                    <% end %>
                </ul>
            <% end %>

            <div class='new__bottom'>
                <h2>New book</h2>
                <%= form_with model:@book do |f| %>
                    Title
                    <div>
                        <%= f.text_field :title %>
                    </div>
                    Body
                    <div>
                        <%= f.text_field :body %>
                    </div>
                    <%= f.submit 'Create Book' %>
                <% end %>
            </div>
        </div>
    </div>
</div>
